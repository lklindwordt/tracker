define "loader", ["project", "menu"], (Project, Menu) ->
  loaderDefaults =
    key: "value"

  #
  class Loader
    constructor:  (options) ->
      @_options = $.extend {}, loaderDefaults, options

      @_project = null

      @init()

    init: ->
      @initializeProject()
      console.log @_options
      console.log @_project
      @initializeMenu()

      @_menu.render()

    projectOptions: ->
      @_options.project || { id: @_options.projectId }

    initializeProject: ->
      @_project ?= new Project @projectOptions()

    initializeMenu: ->
      @_menu ?= new Menu()